#!/usr/bin/env ruby

require 'socket'
require 'optparse'

optparse = OptionParser.new do |opts|
  opts.banner = "Usage: hosthost host\n" \
  	"  Does a double-resolution (reverse names of addresses resolved to)"
end

optparse.parse!

raise 'host expected' if ARGV.empty?

infos = Socket.getaddrinfo(ARGV[0], 0, Socket::AF_UNSPEC, Socket::SOCK_STREAM, nil, 0, true)
infos.each {|r| puts r[2]}
